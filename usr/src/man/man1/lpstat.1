.\"
.\" Sun Microsystems, Inc. gratefully acknowledges The Open Group for
.\" permission to reproduce portions of its copyrighted documentation.
.\" Original documentation from The Open Group can be obtained online at
.\" http://www.opengroup.org/bookstore/.
.\"
.\" The Institute of Electrical and Electronics Engineers and The Open
.\" Group, have given us permission to reprint portions of their
.\" documentation.
.\"
.\" In the following statement, the phrase ``this text'' refers to portions
.\" of the system documentation.
.\"
.\" Portions of this text are reprinted and reproduced in electronic form
.\" in the SunOS Reference Manual, from IEEE Std 1003.1, 2004 Edition,
.\" Standard for Information Technology -- Portable Operating System
.\" Interface (POSIX), The Open Group Base Specifications Issue 6,
.\" Copyright (C) 2001-2004 by the Institute of Electrical and Electronics
.\" Engineers, Inc and The Open Group.  In the event of any discrepancy
.\" between these versions and the original IEEE and The Open Group
.\" Standard, the original IEEE and The Open Group Standard is the referee
.\" document.  The original Standard can be obtained online at
.\" http://www.opengroup.org/unix/online.html.
.\"
.\" This notice shall appear on any product containing this material.
.\"
.\" The contents of this file are subject to the terms of the
.\" Common Development and Distribution License (the "License").
.\" You may not use this file except in compliance with the License.
.\"
.\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
.\" or http://www.opensolaris.org/os/licensing.
.\" See the License for the specific language governing permissions
.\" and limitations under the License.
.\"
.\" When distributing Covered Code, include this CDDL HEADER in each
.\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.
.\" If applicable, add the following below this CDDL HEADER, with the
.\" fields enclosed by brackets "[]" replaced with your own identifying
.\" information: Portions Copyright [yyyy] [name of copyright owner]
.\"
.\"
.\" Copyright 1989 AT&T
.\" Portions Copyright (c) 1992, X/Open Company Limited All Rights Reserved
.\" Copyright (C) 2009, Sun Microsystems, Inc. All Rights Reserved
.\"
.TH LPSTAT 1 "Feb 25, 2017"
.SH NAME
lpstat \- print information about the status of the print service
.SH SYNOPSIS
.LP
.nf
\fBlpstat\fR [\fB-d\fR] [\fB-r\fR] [\fB-R\fR] [\fB-s\fR] [\fB-t\fR] [\fB-a\fR [\fIlist\fR]] [\fB-c\fR [\fIlist\fR]]
     [\fB-f\fR [\fIlist\fR]] [\fB-o\fR [\fIlist\fR]] [\fB-p\fR [\fIlist\fR] [\fB-D\fR]] [\fB-S\fR [\fIlist\fR]]
     [\fB-u\fR [\fIlogin-\fR \fIID\fR \fI-list\fR]] [\fB-v\fR [\fIlist\fR]] [\fB-l\fR \fIlevel\fR]
.fi

.SH DESCRIPTION
.LP
The \fBlpstat\fR utility displays information about the current status of the
\fBLP\fR print service to standard output.
.sp
.LP
If no options are given, \fBlpstat\fR prints the status of all the user's print
requests made by \fBlp\fR. See \fBlp\fR(1). Any arguments that are not
\fIoptions\fR are assumed to be \fIrequest-IDs\fR as returned by \fBlp\fR. The
\fBlpstat\fR command prints the status of such requests. \fIoptions\fR appears
in any order and can be repeated and intermixed with other arguments. Some key
letters can be followed by an optional \fIlist\fR that can be in one of two
forms: a list of items separated from one another by a comma, or a list of
items separated from one another by spaces enclosed in quotes. For example:
.sp
.in +2
.nf
example% \fBlpstat -u "user1 user2 user3"\fR
.fi
.in -2
.sp

.sp
.LP
Specifying \fBall\fR after any key letter that takes \fIlist\fR as an argument
causes all information relevant to the key letter to be printed. For example,
the command:
.sp
.in +2
.nf
example% \fBlpstat -o all\fR
.fi
.in -2
.sp

.sp
.LP
prints the status of all output requests.
.sp
.LP
The omission of a \fIlist\fR following such key letters causes all information
relevant to the key letter to be printed. For example, the command:
.sp
.in +2
.nf
example% \fBlpstat -o\fR
.fi
.in -2
.sp

.sp
.LP
prints the status of all output requests.
.sp
.LP
The print client commands locate destination information using the "printers"
database in the name service switch. See \fBnsswitch.conf\fR(4),
\fBprinters\fR(4), and \fBprinters.conf\fR(4) for details.
.SH OPTIONS
.LP
The following options are supported:
.sp
.ne 2
.na
\fB\fB-a\fR [\fIlist\fR]\fR
.ad
.RS 22n
Reports whether print destinations are accepting requests. \fIlist\fR is a list
of intermixed printer names and class names.
.sp
If the print queue is remote and IPP is in use, the information provided is
very close to that reported for local queues. If the print queue is remote and
IPP is not in use (the print server is older than Solaris 9, Update 6 or
another RFC-1179-based print service), this option does not report any useful
information.
.RE

.sp
.ne 2
.na
\fB\fB-c\fR [\fIlist\fR]\fR
.ad
.RS 22n
Prints name of all classes and their members. \fIlist\fR is a list of class
names.
.sp
If the print queue is remote and IPP is in use, the information provided is
very close to that reported for local queues. If the print queue is remote and
IPP is not in use (the print server is older than Solaris 9, Update 6 or
another RFC-1179-based print service), this option does not report any useful
information.
.RE

.sp
.ne 2
.na
\fB\fB-d\fR\fR
.ad
.RS 22n
Prints the default destination for output requests.
.RE

.sp
.ne 2
.na
\fB\fB\fR\fB-f\fR[\fIlist\fR] [\fB-l\fR]\fR
.ad
.RS 22n
Prints a verification that the forms in \fIlist\fR are recognized by the
\fBLP\fR print service. \fIlist\fR is a list of forms; the default is
\fBall\fR. The \fB-l\fR option lists the form descriptions.
.sp
If the print queue is remote and IPP is in use, the information provided is
very close to that reported for local queues. If the print queue is remote and
IPP is not in use (the print server is older than Solaris 9, Update 6 or
another RFC-1179-based print service), this option does not report any useful
information.
.RE

.sp
.ne 2
.na
\fB\fB-l\fR [\fIlevel\fR]\fR
.ad
.RS 22n
Specifies the verbosity level for extended reporting of printer or job objects
(\fB-o\fR, \fB-p\fR, \fB-r\fR, \fB-u\fR). Without this option, a level of
\fB0\fR is used, which reports summary information. When no level is specified,
a level of \fB1\fRis used, which provides more information about the object. A
level of \fB2\fR or more enumerates all of the object's attributes.
.sp
If the print queue is remote and IPP is in use, the information provided is
very close to that reported for local queues. If the print queue is remote and
IPP is not in use (the print server is older than Solaris 9, Update 6 or
another RFC-1179-based print service), this option does not report any useful
information.
.RE

.sp
.ne 2
.na
\fB\fB-o\fR [\fIlist\fR]\fR
.ad
.RS 22n
Prints the status of output requests. \fIlist\fR is a list of intermixed
printer names, class names, and request-IDs. The key letter \fB-o\fR can be
omitted.
.sp
Specify printer and class names using atomic, URI-style (scheme://endpoint), or
POSIX-style (\fIserver\fR\fB:\fR\fIdestination\fR) names. See
\fBprinters.conf\fR(4) for more information.
.RE

.sp
.ne 2
.na
\fB\fB-p\fR [\fIlist\fR] [\fB-D\fR]\fR
.ad
.RS 22n
Prints the status of printers. \fIlist\fR is a list of printer names. If the
\fB-D\fR option is given, a brief description is printed for each printer in
\fIlist\fR. If the \fB-l\fR option is given and the printer is on the local
machine, a full description of each printer's configuration is returned,
including the form mounted, the acceptable content and printer types, a printer
description, and the interface used.
.sp
If the print queue is remote and IPP is in use, correct job id is reported. If
the print queue is remote and IPP is not in use (the print server is older than
Solaris 9, Update 6 or another RFC-1179-based print service), \fB-p
[\fIlist\fR]\fR always reports the first job in the queue irrespective of its
status.
.RE

.sp
.ne 2
.na
\fB\fB-r\fR\fR
.ad
.RS 22n
Prints the status of the \fBLP\fR request scheduler.
.RE

.sp
.ne 2
.na
\fB\fB-R\fR\fR
.ad
.RS 22n
Prints a number showing the position of each request in the print queue.
.RE

.sp
.ne 2
.na
\fB\fB-s\fR\fR
.ad
.RS 22n
Prints a status summary, including the status of the \fBLP\fR scheduler, the
default destination, a list of printers and their associated devices, a list of
the machines sharing print services, a list of all forms currently mounted, and
a list of all recognized character sets and print wheels.
.RE

.sp
.ne 2
.na
\fB\fB-S\fR [\fIlist\fR]\fR
.ad
.RS 22n
Prints a verification that the character sets or the print wheels specified in
\fIlist\fR are recognized by the \fBLP\fR print service. Items in \fIlist\fR
can be character sets or print wheels; the default for the list is \fBall\fR.
If the \fB-l\fR option is given, each line is appended by a list of printers
that can handle the print wheel or character set. The list also shows whether
the print wheel or character set is mounted, or specifies the built-in
character set into which it maps.
.sp
If the print queue is remote and IPP is in use, the information provided is
very close to that reported for local queues. If the print queue is remote and
IPP is not in use (the print server is older than Solaris 9, Update 6 or
another RFC-1179-based print service), this option does not report any useful
information.
.RE

.sp
.ne 2
.na
\fB\fB-t\fR\fR
.ad
.RS 22n
Prints all status information. This includes all the information obtained with
the \fB-s\fR option, plus the acceptance and idle/busy status of all printers.
.RE

.sp
.ne 2
.na
\fB\fB-u\fR [\fIlogin-ID-list\fR]\fR
.ad
.RS 22n
Prints the status of output requests for users. The \fIlogin-ID-list\fR
argument can include any or all of the following constructs:
.sp
.ne 2
.na
\fB\fIlogin-ID\fR\fR
.ad
.RS 24n
a user on any system
.RE

.sp
.ne 2
.na
\fB\fIsystem_name\fR\fB!\fR\fIlogin-ID\fR\fR
.ad
.RS 24n
a user on system \fIsystem_name\fR
.RE

.sp
.ne 2
.na
\fB\fIsystem_name\fR\fB!all\fR\fR
.ad
.RS 24n
all users on system \fIsystem_name\fR
.RE

.sp
.ne 2
.na
\fB\fBall!\fR\fIlogin-ID\fR\fR
.ad
.RS 24n
a user on all systems
.RE

.sp
.ne 2
.na
\fB\fBall\fR\fR
.ad
.RS 24n
all users on all systems
.RE

.RE

.sp
.ne 2
.na
\fB\fB-v\fR [\fIlist\fR]\fR
.ad
.RS 22n
Prints the names of printers and the path names of the devices associated with
them or remote system names for network printers. \fIlist\fR is a list of
printer names.
.RE

.SH EXIT STATUS
.LP
The following exit values are returned:
.sp
.ne 2
.na
\fB\fB0\fR\fR
.ad
.RS 12n
Successful completion.
.RE

.sp
.ne 2
.na
\fBnon-zero\fR
.ad
.RS 12n
An error occurred.
.RE

.SH FILES
.ne 2
.na
\fB\fB/etc/printers.conf\fR\fR
.ad
.RS 24n
System printer configuration database
.RE

.sp
.ne 2
.na
\fB\fB$HOME/.printers\fR\fR
.ad
.RS 24n
User-configurable printer database
.RE

.sp
.ne 2
.na
\fB\fBou=printers\fR\fR
.ad
.RS 24n
LDAP version of \fB/etc/printers.conf\fR
.RE

.sp
.ne 2
.na
\fB\fBprinters.conf.byname\fR\fR
.ad
.RS 24n
\fBNIS\fR version of \fB/etc/printers.conf\fR
.RE

.SH ATTRIBUTES
.LP
See \fBattributes\fR(5) for descriptions of the following attributes:
.sp

.sp
.TS
box;
c | c
l | l .
ATTRIBUTE TYPE	ATTRIBUTE VALUE
_
Interface Stability	Standard
.TE

.SH SEE ALSO
.LP
\fBcancel\fR(1), \fBlp\fR(1), \fBlpq\fR(1B), \fBlpr\fR(1B), \fBlprm\fR(1B),
\fBnsswitch.conf\fR(4), \fBprinters\fR(4), \fBprinters.conf\fR(4),
\fBattributes\fR(5), \fBstandards\fR(5)
.SH NOTES
.LP
For remote print queues, the BSD print protocol provides a very limited set of
information. The Internet Print Protocol (IPP) is preferred.
.sp
.LP
When IPP is in use, the user is prompted for a passphrase if the remote print
service is configured to require authentication.
