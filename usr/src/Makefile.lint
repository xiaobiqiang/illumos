#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License (the "License").
# You may not use this file except in compliance with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#

#
# Copyright (c) 2003, 2010, Oracle and/or its affiliates. All rights reserved.
# Copyright (c) 2012 by Delphix. All rights reserved.
# Copyright 2015 Garrett D'Amore <garrett@damore.org>
# Copyright 2018 Nexenta Systems, Inc.
#

# include global definitions
include Makefile.master

#
# As pieces are made lint-clean, add them here so the nightly build
# can be used to keep them that way.
#
COMMON_SUBDIRS = \
	cmd/acctadm \
	cmd/asa \
	cmd/amt \
	cmd/audio/audioctl \
	cmd/audio/audiotest \
	cmd/audit \
	cmd/auditconfig \
	cmd/auditd \
	cmd/auditreduce \
	cmd/auditstat \
	cmd/auths \
	cmd/autopush \
	cmd/availdevs \
	cmd/awk \
	cmd/banner \
	cmd/bart \
	cmd/basename \
	cmd/bdiff \
	cmd/busstat \
	cmd/boot \
	cmd/cal \
	cmd/captoinfo \
	cmd/cat \
	cmd/cdrw \
	cmd/cfgadm \
	cmd/checkeq \
	cmd/checknr \
	cmd/chgrp \
	cmd/chmod \
	cmd/chown \
	cmd/chroot \
	cmd/clinfo \
	cmd/cmd-crypto \
	cmd/cmd-inet/lib \
	cmd/cmd-inet/lib/netcfgd \
	cmd/cmd-inet/lib/nwamd \
	cmd/cmd-inet/sbin \
	cmd/cmd-inet/usr.bin \
	cmd/cmd-inet/usr.lib/bridged \
	cmd/cmd-inet/usr.lib/ilbd \
	cmd/cmd-inet/usr.lib/in.mpathd \
	cmd/cmd-inet/usr.lib/in.ndpd \
	cmd/cmd-inet/usr.lib/inetd \
	cmd/cmd-inet/usr.lib/pppoe \
	cmd/cmd-inet/usr.lib/slpd \
	cmd/cmd-inet/usr.lib/vrrpd \
	cmd/cmd-inet/usr.lib/wpad \
	cmd/cmd-inet/usr.sadm \
	cmd/cmd-inet/usr.sbin \
	cmd/cmd-inet/usr.sbin/ilbadm \
	cmd/cmd-inet/usr.sbin/nwamadm \
	cmd/cmd-inet/usr.sbin/nwamcfg \
	cmd/col \
	cmd/compress \
	cmd/consadm \
	cmd/coreadm \
	cmd/cpc \
	cmd/cpio \
	cmd/crypt \
	cmd/csplit \
	cmd/ctrun \
	cmd/ctstat \
	cmd/ctwatch \
	cmd/date \
	cmd/dd \
	cmd/deroff \
	cmd/devctl \
	cmd/devfsadm \
	cmd/devinfo \
	cmd/devmgmt \
	cmd/devprop \
	cmd/dfs.cmds \
	cmd/diff3 \
	cmd/dis \
	cmd/dirname \
	cmd/diskscan \
	cmd/dispadmin \
	cmd/dladm \
	cmd/dlmgmtd \
	cmd/dtrace \
	cmd/du \
	cmd/dumpadm \
	cmd/dumpcs \
	cmd/echo \
	cmd/eject \
	cmd/emul64ioctl \
	cmd/env \
	cmd/expand \
	cmd/fcinfo \
	cmd/fdetach \
	cmd/fdformat \
	cmd/fdisk \
	cmd/file \
	cmd/find \
	cmd/fmthard \
	cmd/fmtmsg \
	cmd/fold \
	cmd/fm \
	cmd/format \
	cmd/fs.d/fd \
	cmd/fs.d/lofs/mount \
	cmd/fs.d/mntfs \
	cmd/fs.d/pcfs/mount \
	cmd/fs.d/proc \
	cmd/fs.d/tmpfs \
	cmd/fs.d/udfs/mount \
	cmd/fs.d/ufs/mount \
	cmd/fs.d/ufs/fsirand\
	cmd/fs.d/zfs/fstyp \
	cmd/fwflash \
	cmd/fuser \
	cmd/gcore \
	cmd/genmsg \
	cmd/getconf \
	cmd/getdevpolicy \
	cmd/getfacl \
	cmd/getopt \
	cmd/gettext \
	cmd/grep \
	cmd/groups \
	cmd/halt \
	cmd/head \
	cmd/hostid \
	cmd/hostname \
	cmd/hotplug \
	cmd/hotplugd \
	cmd/idmap \
	cmd/init \
	cmd/intrstat \
	cmd/ipcrm \
	cmd/ipcs \
	cmd/isaexec \
	cmd/isalist \
	cmd/iscsiadm \
	cmd/iscsid \
	cmd/iscsitsvc \
	cmd/isns \
	cmd/itadm \
	cmd/kbd \
	cmd/killall \
	cmd/ldap \
	cmd/last \
	cmd/lastcomm \
	cmd/ldapcachemgr \
	cmd/line \
	cmd/link \
	cmd/locator \
	cmd/localedef \
	cmd/lockstat \
	cmd/lofiadm \
	cmd/logadm \
	cmd/logger \
	cmd/login \
	cmd/logins \
	cmd/ls \
	cmd/luxadm \
	cmd/mailwrapper \
	cmd/makekey \
	cmd/mdb \
	cmd/mesg \
	cmd/mkdir \
	cmd/mkfifo \
	cmd/mkfile \
	cmd/mkmsgs \
	cmd/mknod \
	cmd/mpathadm \
	cmd/modload \
	cmd/msgfmt \
	cmd/msgid \
	cmd/mt \
	cmd/mv \
	cmd/ndmpadm \
	cmd/ndmpd \
	cmd/ndmpstat \
	cmd/newform \
	cmd/newgrp \
	cmd/newtask \
	cmd/nice \
	cmd/nl \
	cmd/nohup \
	cmd/nscd \
	cmd/od \
	cmd/pagesize \
	cmd/passwd \
	cmd/pathchk \
	cmd/pbind \
	cmd/pcidr \
	cmd/pcitool \
	cmd/pfexec \
	cmd/pgrep \
	cmd/picl/picld \
	cmd/picl/prtpicl \
	cmd/plockstat \
	cmd/pools \
	cmd/power \
	cmd/powertop \
	cmd/printf \
	cmd/latencytop \
	cmd/ppgsz \
	cmd/praudit \
	cmd/prctl \
	cmd/priocntl \
	cmd/profiles \
	cmd/prstat \
	cmd/prtconf \
	cmd/prtdiag \
	cmd/prtvtoc \
	cmd/ps \
	cmd/psradm \
	cmd/psrinfo \
	cmd/psrset \
	cmd/ptools \
	cmd/pwck \
	cmd/pwconv \
	cmd/ramdiskadm \
	cmd/raidctl \
	cmd/rcap \
	cmd/rcm_daemon \
	cmd/rctladm \
	cmd/renice \
	cmd/rm \
	cmd/rmdir \
	cmd/rmformat \
	cmd/rmt \
	cmd/roles \
	cmd/rpcgen \
	cmd/rpcsvc/rpc.bootparamd \
	cmd/runat \
	cmd/savecore \
	cmd/sbdadm \
	cmd/sdpadm \
	cmd/sed \
	cmd/setpgrp \
	cmd/smbios \
	cmd/sgs \
	cmd/smbsrv \
	cmd/smserverd \
	cmd/sort \
	cmd/split \
	cmd/srptadm \
	cmd/srptsvc \
	cmd/stat \
	cmd/stmfadm \
	cmd/stmfsvc \
	cmd/stmsboot \
	cmd/streams/strcmd \
	cmd/strings \
	cmd/su \
	cmd/sulogin \
	cmd/svc \
	cmd/swap \
	cmd/sync \
	cmd/syseventadm \
	cmd/syseventd \
	cmd/syslogd \
	cmd/tabs \
	cmd/tail \
	cmd/th_tools \
	cmd/touch \
	cmd/tr \
	cmd/truss \
	cmd/tty \
	cmd/tzreload \
	cmd/uadmin \
	cmd/ul \
	cmd/userattr \
	cmd/users \
	cmd/utmp_update \
	cmd/utmpd \
	cmd/valtools \
	cmd/vrrpadm \
	cmd/vt \
	cmd/wall \
	cmd/who \
	cmd/whodo \
	cmd/wracct \
	cmd/xargs \
	cmd/xstr \
	cmd/yes \
	cmd/yppasswd \
	cmd/zdb \
	cmd/zdump \
	cmd/zfs \
	cmd/zhack \
	cmd/zinject \
	cmd/zlogin \
	cmd/zoneadm \
	cmd/zoneadmd \
	cmd/zonecfg \
	cmd/zonename \
	cmd/zpool \
	cmd/zlook \
	cmd/ztest \
	lib/abi \
	lib/auditd_plugins \
	lib/libbe \
	lib/pylibbe \
	lib/brand/sn1 \
	lib/brand/solaris10 \
	lib/crypt_modules \
	lib/extendedFILE \
	lib/libadm \
	lib/libadutils \
	lib/libadt_jni \
	lib/libaio \
	lib/libavl \
	lib/libbrand \
	lib/libbsdmalloc \
	lib/libbsm \
	lib/libc \
	lib/libc_db \
	lib/libcfgadm \
	lib/libcmdutils \
	lib/libcommputil \
	lib/libcontract \
	lib/libcryptoutil \
	lib/libctf \
	lib/libdevice \
	lib/libdevid \
	lib/libdevinfo \
	lib/libdhcpagent \
	lib/libdhcputil \
	lib/libdisasm \
	lib/libdiskmgt \
	lib/libdladm \
	lib/libdlpi \
	lib/libdoor \
	lib/libdtrace \
	lib/libefi \
	lib/libelfsign \
	lib/libexacct \
	lib/libfcoe \
	lib/libgen \
	lib/libgrubmgmt \
	lib/libgss \
	lib/libhotplug \
	lib/libidmap \
	lib/libilb \
	lib/libinetsvc \
	lib/libinetutil \
	lib/libinstzones \
	lib/libipadm \
	lib/libipmi \
	lib/libipmp \
	lib/libipp \
	lib/libipsecutil \
	lib/libiscsit \
	lib/libkmf \
	lib/libkstat \
	lib/liblgrp \
	lib/liblm \
	lib/libm \
	lib/libm1 \
	lib/libmvec \
	lib/libmalloc \
	lib/libmapmalloc \
	lib/libmapid \
	lib/libmd \
	lib/libmp \
	lib/libmtmalloc \
	lib/libndmp \
	lib/libnsl \
	lib/libnvpair \
	lib/libnwam \
	lib/libpam \
	lib/libpctx \
	lib/libpicl \
	lib/libpicltree \
	lib/libpkg \
	lib/libpool \
	lib/libproc \
	lib/libpthread \
	lib/libraidcfg \
	lib/librcm \
	lib/libreparse \
	lib/librestart \
	lib/librstp \
	lib/librt \
	lib/libscf \
	lib/libsec \
	lib/libsecdb \
	lib/libsendfile \
	lib/libsip \
	lib/libshare \
	lib/libsldap \
	lib/libslp \
	lib/libsmbfs \
	lib/libsmbios \
	lib/libsmedia \
	lib/libsrpt \
	lib/libstmf \
	lib/libsun_ima \
	lib/libsysevent \
	lib/libthread \
	lib/libtsnet \
	lib/libtsol \
	lib/libumem \
	lib/libuuid \
	lib/libuutil \
	lib/libvrrpadm \
	lib/libxnet \
	lib/libzfs \
	lib/libzfs_jni \
	lib/libzonecfg \
	lib/libzoneinfo \
	lib/madv \
	lib/mpss \
	lib/nametoaddr \
	lib/ncad_addr \
	lib/nsswitch \
	lib/pam_modules \
	lib/passwdutil \
	lib/pkcs11 \
	lib/print \
	lib/raidcfg_plugins \
	lib/scsi \
	lib/smbsrv \
	lib/fm \
	lib/udapl \
	lib/watchmalloc \
	psm \
	test \
	ucbcmd/basename \
	ucbcmd/biff \
	ucbcmd/echo \
	ucbcmd/groups \
	ucbcmd/mkstr \
	ucbcmd/printenv \
	ucbcmd/sum \
	ucbcmd/test \
	ucbcmd/users \
	ucbcmd/whoami

i386_SUBDIRS= \
	cmd/acpihpd \
	cmd/biosdev \
	cmd/rtc \
	cmd/ucodeadm \
	lib/cfgadm_plugins/sata \
	lib/cfgadm_plugins/sbd \
	lib/libfdisk

sparc_SUBDIRS= \
	cmd/datadm \
	cmd/dcs \
	cmd/drd \
	cmd/fruadm \
	cmd/ldmad \
	cmd/prtdscp \
	cmd/prtfru \
	cmd/sckmd \
	cmd/virtinfo \
	cmd/vntsd \
	lib/libds \
	lib/libdscp \
	lib/libpri \
	lib/libpcp \
	lib/libtsalarm \
	lib/libv12n \
	lib/storage \
	stand

LINTSUBDIRS= $(COMMON_SUBDIRS) $($(MACH)_SUBDIRS)

.PARALLEL:	$(LINTSUBDIRS)

lint:		uts .WAIT subdirs

subdirs:	$(LINTSUBDIRS)

uts $(LINTSUBDIRS):	FRC
	@cd $@; pwd; $(MAKE) lint

FRC:
